{include file="header.html"}
<link href="styles/store_index.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="styles/swiper.css">
<div class="content">
    <h2 class="title">店铺</h2>
    <div class="map_box">
        <img src="styles/images/store_index.png" alt="store_index">
        <div class="location_nav" id="locationNav">
            <h2 class="location_title">中国</h2>
            <div id="provinceList" class="location_list">
                <div class="location_content">
                    <ul>
                        <li class="item"><a href="javascript:void(0)">北京市</a></li>
                        <li class="item"><a href="javascript:void(0)">广东省</a></li>
                        <li class="item"><a href="javascript:void(0)">山东省</a></li>
                        <li class="item"><a href="javascript:void(0)">江苏省</a></li>
                        <li class="item"><a href="javascript:void(0)">河南省</a></li>
                        <li class="item"><a href="javascript:void(0)">上海市</a></li>
                        <li class="item"><a href="javascript:void(0)">河北省</a></li>
                        <li class="item"><a href="javascript:void(0)">浙江省</a></li>
                        <li class="item"><a href="javascript:void(0)">湖南省</a></li>
                        <li class="item"><a href="javascript:void(0)">重庆市</a></li>
                        <li class="item"><a href="javascript:void(0)">福建省</a></li>
                        <li class="item"><a href="javascript:void(0)">天津市</a></li>
                        <li class="item"><a href="javascript:void(0)">云南省</a></li>
                        <li class="item"><a href="javascript:void(0)">四川省</a></li>
                        <li class="item"><a href="javascript:void(0)">海南省</a></li>
                        <li class="item"><a href="javascript:void(0)">台湾省</a></li>
                        <li class="item"><a href="javascript:void(0)">香港特别行政区</a></li>
                        <li class="item"><a href="javascript:void(0)">澳门特别行政区</a></li>
                        <li class="item"><a href="javascript:void(0)">福建省</a></li>
                        <li class="item"><a href="javascript:void(0)">天津市</a></li>
                        <li class="item"><a href="javascript:void(0)">云南省</a></li>
                        <li class="item"><a href="javascript:void(0)">四川省</a></li>
                        <li class="item"><a href="javascript:void(0)">海南省</a></li>
                        <li class="item"><a href="javascript:void(0)">台湾省</a></li>
                        <li class="item"><a href="javascript:void(0)">香港特别行政区</a></li>
                        <li class="item"><a href="javascript:void(0)">澳门特别行政区</a></li>
                        <li class="item"><a href="javascript:void(0)">福建省</a></li>
                        <li class="item"><a href="javascript:void(0)">天津市</a></li>
                        <li class="item"><a href="javascript:void(0)">云南省</a></li>
                        <li class="item"><a href="javascript:void(0)">四川省</a></li>
                        <li class="item"><a href="javascript:void(0)">海南省</a></li>
                        <li class="item"><a href="javascript:void(0)">台湾省</a></li>
                        <li class="item"><a href="javascript:void(0)">香港特别行政区</a></li>
                        <li class="item"><a href="javascript:void(0)">澳门特别行政区</a></li>
                    </ul>
                   	
                </div>
            </div>
            <span class="back1" id="back1">< 返回</span>
            <span class="hide_location_nav" id="hideLocationNav"></span>
            <span class="show_location_nav" id="showLocationNav"></span>
        </div>
        <div class="map_fun_box">
            <span class="store_search"></span>
            <span class="enlarge_map"></span>
            <span class="reduce_map"></span>
        </div>
    </div>
    <div class="store_info_box">
        <h2 class="store_title">门店信息</h2>
        <div class="store_country">中国</div>
        <div class="store_location" id="storeLocation">
            选择地区
            <div class="swiper-container">
            	<span class="back" id="back"></span>
                <div class="swiper-wrapper">
                    <div class="swiper-slide swiper-slide1">&nbsp;</div>
                    <div class="swiper-slide swiper-slide1">&nbsp;</div>
                    <div class="swiper-slide swiper-slide2">北京市</div>
                    <div class="swiper-slide swiper-slide2">广东省</div>
                    <div class="swiper-slide swiper-slide2">山东省</div>
                    <div class="swiper-slide swiper-slide2">江苏省</div>
                    <div class="swiper-slide swiper-slide2">河南省</div>
                    <div class="swiper-slide swiper-slide2">上海市</div>
                    <div class="swiper-slide swiper-slide2">河北省</div>
                    <div class="swiper-slide swiper-slide2">浙江省</div>
                    <div class="swiper-slide swiper-slide2">湖南省</div>
                    <div class="swiper-slide swiper-slide2">重庆市</div>
                    <div class="swiper-slide swiper-slide2">天津市</div>
                    <div class="swiper-slide swiper-slide2">云南省</div>
                    <div class="swiper-slide swiper-slide2">四川省</div>
                    <div class="swiper-slide swiper-slide2">海南省</div>
                    <div class="swiper-slide swiper-slide2">台湾省</div>
                    <div class="swiper-slide swiper-slide2">香港特别行政区</div>
                    <div class="swiper-slide swiper-slide2">澳门特别行政区</div>
                    <div class="swiper-slide swiper-slide2">北京市</div>
                    <div class="swiper-slide swiper-slide2">广东省</div>
                    <div class="swiper-slide swiper-slide2">山东省</div>
                    <div class="swiper-slide swiper-slide2">江苏省</div>
                    <div class="swiper-slide swiper-slide2">河南省</div>
                    <div class="swiper-slide swiper-slide2">上海市</div>
                    <div class="swiper-slide swiper-slide2">河北省</div>
                    <div class="swiper-slide swiper-slide2">浙江省</div>
                    <div class="swiper-slide swiper-slide2">湖南省</div>
                    <div class="swiper-slide swiper-slide2">重庆市</div>
                    <div class="swiper-slide swiper-slide2">天津市</div>
                    <div class="swiper-slide swiper-slide2">云南省</div>
                    <div class="swiper-slide swiper-slide2">四川省</div>
                    <div class="swiper-slide swiper-slide2">海南省</div>
                    <div class="swiper-slide swiper-slide2">台湾省</div>
                    <div class="swiper-slide swiper-slide2">香港特别行政区</div>
                    <div class="swiper-slide swiper-slide2">澳门特别行政区</div>
                    <div class="swiper-slide swiper-slide1">&nbsp;</div>
                    <div class="swiper-slide swiper-slide1">&nbsp;</div>
                </div>
            </div>
        </div>
        <div class="store_lists_box">
        </div>
    </div>
</div>
{include file="footer.html"}
<script src="js/swiper.min.js"></script>
<script>
$(function() {
    // 手机端省份列表
    var shengStr = '<div class="swiper-slide swiper-slide1">&nbsp;</div><div class="swiper-slide swiper-slide1">&nbsp;</div><div class="swiper-slide swiper-slide2">北京市</div><div class="swiper-slide swiper-slide2">广东省</div><div class="swiper-slide swiper-slide2">山东省</div><div class="swiper-slide swiper-slide2">江苏省</div><div class="swiper-slide swiper-slide2">河南省</div><div class="swiper-slide swiper-slide2">上海市</div><div class="swiper-slide swiper-slide2">河北省</div><div class="swiper-slide swiper-slide2">浙江省</div><div class="swiper-slide swiper-slide2">湖南省</div><div class="swiper-slide swiper-slide2">重庆市</div><div class="swiper-slide swiper-slide2">天津市</div><div class="swiper-slide swiper-slide2">云南省</div><div class="swiper-slide swiper-slide2">四川省</div><div class="swiper-slide swiper-slide2">海南省</div><div class="swiper-slide swiper-slide2">台湾省</div><div class="swiper-slide swiper-slide2">香港特别行政区</div><div class="swiper-slide swiper-slide2">澳门特别行政区</div><div class="swiper-slide swiper-slide2">北京市</div><div class="swiper-slide swiper-slide2">广东省</div><div class="swiper-slide swiper-slide2">山东省</div><div class="swiper-slide swiper-slide2">江苏省</div><div class="swiper-slide swiper-slide2">河南省</div><div class="swiper-slide swiper-slide2">上海市</div><div class="swiper-slide swiper-slide2">河北省</div><div class="swiper-slide swiper-slide2">浙江省</div><div class="swiper-slide swiper-slide2">湖南省</div><div class="swiper-slide swiper-slide2">重庆市</div><div class="swiper-slide swiper-slide2">天津市</div><div class="swiper-slide swiper-slide2">云南省</div><div class="swiper-slide swiper-slide2">四川省</div><div class="swiper-slide swiper-slide2">海南省</div><div class="swiper-slide swiper-slide2">台湾省</div><div class="swiper-slide swiper-slide2">香港特别行政区</div><div class="swiper-slide swiper-slide2">澳门特别行政区</div><div class="swiper-slide swiper-slide1">&nbsp;</div><div class="swiper-slide swiper-slide1">&nbsp;</div>'

    // 手机端市区列表
    var shiStr = '<div class="swiper-slide swiper-slide1">&nbsp;</div><div class="swiper-slide swiper-slide1">&nbsp;</div><div class="swiper-slide swiper-slide2">广州市</div><div class="swiper-slide swiper-slide2">中山市</div><div class="swiper-slide swiper-slide2">深圳市</div><div class="swiper-slide swiper-slide2">惠州市</div><div class="swiper-slide swiper-slide2">江门市</div><div class="swiper-slide swiper-slide2">珠海市</div><div class="swiper-slide swiper-slide2">汕头市</div><div class="swiper-slide swiper-slide2">佛山市</div><div class="swiper-slide swiper-slide2">湛江市</div><div class="swiper-slide swiper-slide2">梅州市</div><div class="swiper-slide swiper-slide2">揭阳市</div><div class="swiper-slide swiper-slide1">&nbsp;</div><div class="swiper-slide swiper-slide1">&nbsp;</div>';

    // 手机端区域列表
    var quStr = '<div class="swiper-slide swiper-slide1">&nbsp;</div><div class="swiper-slide swiper-slide1">&nbsp;</div><div class="swiper-slide swiper-slide2">海珠区</div><div class="swiper-slide swiper-slide2">天河区</div><div class="swiper-slide swiper-slide2">荔湾区</div><div class="swiper-slide swiper-slide2">番禺区</div><div class="swiper-slide swiper-slide2">海珠区</div><div class="swiper-slide swiper-slide2">天河区</div><div class="swiper-slide swiper-slide2">荔湾区</div><div class="swiper-slide swiper-slide2">番禺区</div><div class="swiper-slide swiper-slide2">番禺区</div><div class="swiper-slide swiper-slide2">海珠区</div><div class="swiper-slide swiper-slide2">天河区</div><div class="swiper-slide swiper-slide2">荔湾区</div><div class="swiper-slide swiper-slide2">番禺区</div><div class="swiper-slide swiper-slide1">&nbsp;</div><div class="swiper-slide swiper-slide1">&nbsp;</div>';

    // 手机端选完区域后显示的店铺列表
    var storeStr = '<h2 class="store_lists_title">店铺列表</h2><ul class="store_lists" id="storeLists"><li>XX路XXX店</li><li>XX路XXX店</li><li>XX路XXX店</li><li>XX路XXX店</li><li>XX路XXX店</li><li>XX路XXX店</li><li>XX路XXX店</li><li>XX路XXX店</li><li>XX路XXX店</li><li>XX路XXX店</li></ul>';


    var pcSheng = '<ul><li class="item"><a href="javascript:void(0)">北京市</a></li><li class="item"><a href="javascript:void(0)">广东省</a></li><li class="item"><a href="javascript:void(0)">山东省</a></li><li class="item"><a href="javascript:void(0)">江苏省</a></li><li class="item"><a href="javascript:void(0)">河南省</a></li><li class="item"><a href="javascript:void(0)">上海市</a></li><li class="item"><a href="javascript:void(0)">河北省</a></li><li class="item"><a href="javascript:void(0)">浙江省</a></li><li class="item"><a href="javascript:void(0)">湖南省</a></li><li class="item"><a href="javascript:void(0)">重庆市</a></li><li class="item"><a href="javascript:void(0)">福建省</a></li><li class="item"><a href="javascript:void(0)">天津市</a></li><li class="item"><a href="javascript:void(0)">云南省</a></li><li class="item"><a href="javascript:void(0)">四川省</a></li><li class="item"><a href="javascript:void(0)">海南省</a></li><li class="item"><a href="javascript:void(0)">台湾省</a></li><li class="item"><a href="javascript:void(0)">香港特别行政区</a></li><li class="item"><a href="javascript:void(0)">澳门特别行政区</a></li><li class="item"><a href="javascript:void(0)">福建省</a></li><li class="item"><a href="javascript:void(0)">天津市</a></li><li class="item"><a href="javascript:void(0)">云南省</a></li><li class="item"><a href="javascript:void(0)">四川省</a></li><li class="item"><a href="javascript:void(0)">海南省</a></li><li class="item"><a href="javascript:void(0)">台湾省</a></li><li class="item"><a href="javascript:void(0)">香港特别行政区</a></li><li class="item"><a href="javascript:void(0)">澳门特别行政区</a></li><li class="item"><a href="javascript:void(0)">福建省</a></li><li class="item"><a href="javascript:void(0)">天津市</a></li><li class="item"><a href="javascript:void(0)">云南省</a></li><li class="item"><a href="javascript:void(0)">四川省</a></li><li class="item"><a href="javascript:void(0)">海南省</a></li><li class="item"><a href="javascript:void(0)">台湾省</a></li><li class="item"><a href="javascript:void(0)">香港特别行政区</a></li><li class="item"><a href="javascript:void(0)">澳门特别行政区</a></li></ul>';

    var pcSublist = '<ul class="shi_list"><li><a href="javascript:void(0)">广州市</a><ul class="qu_list"><li><a href="javascript:void(0)">越秀区</a><ul class="store_list"><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li></ul></li><li><a href="javascript:void(0)">越秀区</a><ul class="store_list"><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li></ul></li><li><a href="javascript:void(0)">越秀区</a><ul class="store_list"><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li></ul></li></ul></li><li><a href="javascript:void(0)">广州市</a><ul class="qu_list"><li><a href="javascript:void(0)">越秀区</a><ul class="store_list"><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li></ul></li><li><a href="javascript:void(0)">越秀区</a><ul class="store_list"><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li></ul></li><li><a href="javascript:void(0)">越秀区</a><ul class="store_list"><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li></ul></li></ul></li><li><a href="javascript:void(0)">广州市</a><ul class="qu_list"><li><a href="javascript:void(0)">越秀区</a><ul class="store_list"><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li></ul></li><li><a href="javascript:void(0)">越秀区</a><ul class="store_list"><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li></ul></li><li><a href="javascript:void(0)">越秀区</a><ul class="store_list"><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li><li><a href="javascript:void(0)">XX路XXX店</a></li></ul></li></ul></li></ul>';

    var pcStoreStr = '<div class="par">地址：广州市 越秀区 北京路 XXX号 五月花广场 3F A312铺</div> <div class="par">电话： 4001-8888-8888</div><div class="par"><p>营业时间：</p><p>周一至周五 10:00-21:30</p><p>周六至周七 10:00-22:00</p></div><div class="par"><p>本店有货：</p><p>WOMEN、YOUTH、MEN、ACC</p></div>';

    var listStatus = 0;

    var containerHeight = $('#provinceList').height();
    $('#provinceList').perfectScrollbar(null, {
        myHeight: 32
    });
    $('#hideLocationNav').click(function() {
        $('#locationNav').removeClass('show');
        $('#showLocationNav').show();
    });
    $('#showLocationNav').click(function() {
        $('#locationNav').addClass('show');
        $(this).hide();
    });

    $('.location_content').delegate('.item', 'click', function(e) {
        e.stopPropagation();
        listStatus = 1;
        $('.location_title').html('广州');
        $('.location_content').html(pcSublist);
        $('#back1').show();
	    if($('.location_content').outerHeight(true) < containerHeight) {
	    	$('.ps-scrollbar-y-rail').hide();
	    }
    });

    $('.location_content').delegate('.store_list>li', 'click', function(e) {
    	e.stopPropagation();
        listStatus = 2;
    	$('.location_title').html('北京路五月花店');
    	$('.location_content').html(pcStoreStr);
        if($('.location_content').outerHeight(true) < containerHeight) {
            $('.ps-scrollbar-y-rail').hide();
        }

    });

    $('#back1').click(function() {
        if(listStatus == 1) {
            $('.location_content').html(pcSheng);
            $('.location_title').html('中国');
            $(this).hide();
        } else if(listStatus == 2) {
            listStatus = 1;
            $('.location_title').html('广州');
            $('.location_content').html(pcSublist);
        }

        var height = $('.location_content').outerHeight(true);
        if (height > containerHeight) {
            $('.ps-scrollbar-y-rail').show();
        } else if(height < containerHeight) {
            $('.ps-scrollbar-y-rail').hide();
        }
        
    });

    $('.location_content').delegate('.shi_list>li', 'click', function() {
        var $subList = $(this).find('.qu_list');
        if ($subList.is(':visible')) {
            $(this).children('a').removeClass('active')
            $(this).find('.qu_list').slideUp(100, function() {
                var height = $('.location_content').outerHeight(true);
                if (height < containerHeight) {
                    $('.ps-scrollbar-y-rail').hide();
                }
            });
        } else {
            $(this).children('a').addClass('active')
            $(this).find('.qu_list').slideDown(100, function() {
                var height = $('.location_content').outerHeight(true);
                if (height > containerHeight) {
                    $('.ps-scrollbar-y-rail').show();
                }
            });
        }
    });

    $('.location_content').delegate('.qu_list>li', 'click', function(e) {
        e.stopPropagation();
        var $subList = $(this).find('.store_list');
        if ($subList.is(':visible')) {
            $(this).children('a').removeClass('active')
            $(this).find('.store_list').slideUp(100, function() {
                var height = $('.location_content').outerHeight(true);
                if (height < containerHeight) {
                    $('.ps-scrollbar-y-rail').hide();
                }
            });
        } else {
            $(this).children('a').addClass('active')
            $(this).find('.store_list').slideDown(100, function() {
                var height = $('.location_content').outerHeight(true);
                if (height > containerHeight) {
                    $('.ps-scrollbar-y-rail').show();
                }
            });
        }
    });

    // 手机端
    var style = 0;

    var swiper = {};
    $('.swiper-container').delegate('.swiper-slide1', 'click', function(e) {
        e.stopPropagation();
    });
    var $swiper_container = $('.swiper-container');
    $('#storeLocation').click(function() {
        if($swiper_container.is(':visible')) {
            $swiper_container.slideUp(320);
        } else {
            $swiper_container.slideDown(320, function() {
                swiper = new Swiper('.swiper-container', {
                    pagination: '.swiper-pagination',
                    slidesPerView: 5,
                    paginationClickable: true,
                    freeMode: true,
                    direction: 'vertical'
                });
            });
        }
    });

    $swiper_container.delegate('.swiper-slide2', 'click', function(e) {
        e.stopPropagation();
        if (style == 0) {
            $('#back').show();
            // 目前选择了省份故切换到市区列表
            $('.swiper-wrapper').html(shiStr);

            style = 1;
        } else if (style == 1) {
            $('#back').show();
            // 目前选择了市区故切换到区域列表
            $('.swiper-wrapper').html(quStr);

            style = 2;
        } else if(style == 2){

            $swiper_container.hide();
            $('.store_lists_box').html(storeStr);
            style = 0;
            $('#back').hide();
            $('.swiper-wrapper').html(shengStr);
        }

        swiper.update();
        swiper.slideTo(0, 100, false);

    });

    $('#back').click(function(e) {
        e.stopPropagation();
        if(style == 1) {
            $('#back').hide();
            $('.swiper-wrapper').html(shengStr);
            style = 0;
        } else if(style == 2) {
            $('.swiper-wrapper').html(shiStr);
            style = 1;
        } else if(style == 0) {
            return;
        }
        swiper.update();
        swiper.slideTo(0, 100, false);
    });

    $('.store_lists_box').delegate('li', 'click', function(e) {
        e.stopPropagation();
        $(this).hide();

        var str = '<h2 class="store_name">北京路五月花店</h2><table>\
							<tr>\
								<td class="first_td">地址：</td>\
								<td>广州市 越秀区 北京路XXX号 五月花广场 3F A312铺</td>\
							</tr>\
							<tr>\
								<td class="first_td">营业时间：</td>\
								<td>\
									<p>周一至周五 10:00-21:30</p>\
									<p>周六至周日 10:00-22:00</p>\
								</td>\
							</tr>\
							<tr>\
								<td class="first_td">电话：</td>\
								<td>4001-8888-8888</td>\
							</tr>\
							<tr>\
								<td class="first_td">本店有货：</td>\
								<td>WOMEN、YOUTH、MEN、ACC</td>\
							</tr>\
						</table>';
        $('.store_lists_box').html(str);
        if($('.location_content').outerHeight(true) < containerHeight) {
            $('.ps-scrollbar-y-rail').hide();
        }

    });
})
</script>
</body>
